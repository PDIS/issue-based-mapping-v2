webpackJsonp([1],{"6wH5":function(e,t){},"7zck":function(e,t){},IKP7:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),l={data:function(){return{clipped:!1,drawer:!1,fixed:!1,items:[],miniVariant:!1,right:!0,rightDrawer:!1,title:"議題分析表",me:{id:"",name:"",avatar:""},message:{avatar:"https://avatars0.githubusercontent.com/u/9064066?v=4&s=460",name:"John Leider",title:"Welcome to Vuetify.js!",excerpt:"Thank you for joining our community..."}}},methods:{login:function(){Trello.authorize({name:"議題分析表",expiration:"never",scope:{read:!0,write:!0}})},menu:function(){console.log(this.items)},getsuccessed:function(e){console.log(e)}},created:function(){var e=this;Trello.organizations.get("ibm249/boards",{filter:"all"},function(e){var t=this;this.items=[],e.map(function(e){var a={icon:"bubble_chart"};a.title=e.name,t.items.push(a)})});Trello.members.get("me",function(t){e.me.id=t.id,e.me.name=t.username,e.me.avatar=t.avatarUrl+"/50.png",console.log(e.me)},this.login())}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-navigation-drawer",{staticClass:"d-inline-block pa-5",staticStyle:{"background-color":"#032e3d"},attrs:{persistent:"","mini-variant":e.miniVariant,clipped:e.clipped,"enable-resize-watcher":"",fixed:"",app:"",dark:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{color:"grey lighten-4"}},[a("v-list-tile",[a("v-list-tile-action",[a("v-icon",{attrs:{medium:""}},[e._v("home")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("回到首頁")])],1)],1),e._v(" "),a("v-list-tile",[a("v-list-tile-action",[a("v-icon",[e._v("work")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("說明文件")])],1)],1),e._v(" "),a("v-list-tile",[a("v-list-tile-action",[a("v-icon",[e._v("pan_tool")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("常見問題")])],1)],1)],1)],1),e._v(" "),a("v-toolbar",{staticStyle:{"background-color":"#10768D"},attrs:{app:"","clipped-left":e.clipped,prominent:"","scroll-off-screen":"",tabs:"",flat:"",dark:""}},[a("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),a("v-toolbar-title",{domProps:{textContent:e._s(e.title)}},[e._v("議題分析表")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{icon:"",outline:"",small:"",fab:"",btn:""}},[a("v-avatar",[a("img",{attrs:{src:e.me.avatar,alt:"username"}})])],1)],1)],1)},staticRenderFns:[]};var n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-footer",{attrs:{fixed:!1,app:""}},[t("span",[this._v("© 2018")])])},staticRenderFns:[]};var i={data:function(){return{clipped:!1,drawer:!0,fixed:!1,items:[{icon:"bubble_chart",title:"Inspire"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Vuetify.js"}},name:"App",components:{vueheader:a("VU/8")(l,s,!1,function(e){a("ik/M")},null,null).exports,vuefooter:a("VU/8")({},n,!1,function(e){a("6wH5")},null,null).exports}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{staticStyle:{"background-color":"white"}},[t("vueheader"),this._v(" "),t("v-content",[t("router-view")],1)],1)},staticRenderFns:[]};var o=a("VU/8")(i,c,!1,function(e){a("fJh9")},null,null).exports,d=a("/ocq"),v=a("mvHQ"),u=a.n(v),f={data:function(){return{title:"Preliminary report",email:"",rules:{required:function(e){return!!e||"Required."},email:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Invalid e-mail."}},boardname:"",desc:{title:"",person:"",date:null},date:null,picker:!1}},methods:{submit:function(){var e=this;Trello.post("boards",{name:this.boardname,idOrganization:"5ad56d6d96cb269a7a2aaa0a",idBoardSource:"5ab49c39f2917ad1cff1a3de",prefs_permissionLevel:"org",keepFromSource:"none"},function(t){Trello.put("boards/"+t.id,{desc:u()(e.desc)})})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-card",[a("v-toolbar",{attrs:{color:"teal"}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"white"}},[e._v("arrow_back")])],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"white"}},[e._v("more_vert")])],1)],1),e._v(" "),a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"看版名稱","prepend-icon":"assignment"},model:{value:e.boardname,callback:function(t){e.boardname=t},expression:"boardname"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"議題名稱","prepend-icon":"announcement"},model:{value:e.desc.title,callback:function(t){e.$set(e.desc,"title",t)},expression:"desc.title"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"提案人","prepend-icon":"person"},model:{value:e.desc.person,callback:function(t){e.$set(e.desc,"person",t)},expression:"desc.person"}}),e._v(" "),a("v-menu",{ref:"date",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":e.date},on:{"update:returnValue":function(t){e.date=t}},model:{value:e.picker,callback:function(t){e.picker=t},expression:"picker"}},[a("v-text-field",{attrs:{slot:"activator",label:"提案日期","prepend-icon":"event"},slot:"activator",model:{value:e.desc.date,callback:function(t){e.$set(e.desc,"date",t)},expression:"desc.date"}}),e._v(" "),a("v-date-picker",{attrs:{locale:"zh-tw"},on:{input:function(t){e.$refs.date.save(e.date)}},model:{value:e.desc.date,callback:function(t){e.$set(e.desc,"date",t)},expression:"desc.date"}})],1)],1)],1)],1),e._v(" "),a("v-divider",{staticClass:"mt-5"}),e._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:e.submit}},[e._v("Submit")])],1)],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(f,p,!1,function(e){a("zPXi")},"data-v-7e1e5821",null).exports,x={data:function(){return{boards:[],search:"",dialog:!1,selectedid:""}},methods:{getboards:function(){var e=this;Trello.organizations.get("ibm249/boards",{filter:"open"},function(t){t.map(function(t){var a={};a.id=t.id,a.title=t.name,""!=t.desc&&(a.desc=JSON.parse(t.desc)),e.boards.push(a)})})},closeboard:function(e){Trello.put("boards/"+e,{closed:!0},function(e){window.location.reload(!0)})}},created:function(){this.getboards()},watch:{search:function(){console.log(this.search)}},computed:{filteredList:function(){var e=this;return this.boards.filter(function(t){return t.title.toLowerCase().includes(e.search.toLowerCase())})}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{staticClass:"mt-3 mb-0",attrs:{color:"blue-grey darken-4","prepend-icon":"search",label:"搜尋議題",value:"Input text"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("v-flex",{attrs:{xs4:"","text-xs-left":"","pt-5":""}},[a("span",[e._v("所有議題列表")])]),e._v(" "),a("v-flex",{attrs:{xs4:"","text-xs-right":"","offset-xs4":"","pt-4":""}},[a("span",{staticClass:"group"},[a("v-btn",{attrs:{outline:"",btn:""}},[a("v-icon",[e._v("subject")])],1),e._v(" "),a("v-btn",{attrs:{outline:"",btn:""}},[a("v-icon",[e._v("apps")])],1)],1)])],1),e._v(" "),a("v-divider"),e._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:"",lg3:"","text-xs-center":""}},[a("v-card",{staticStyle:{"background-color":"#f0c808"},attrs:{height:"20em",hover:""}},[a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-card-text",[a("v-btn",{staticStyle:{"background-color":"#10768D"},attrs:{fab:"",dark:"",large:"",to:{name:"newboard"}}},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1)],1)],1)],1)],1)],1),e._v(" "),e._l(e.filteredList,function(t){return a("v-flex",{key:t.id,attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[a("v-card",{attrs:{color:"white",to:{name:"board",params:{id:t.id}},hover:"",height:"20em"}},[a("v-list",{staticStyle:{"background-color":"white"},attrs:{subheader:""}},[a("v-subheader",{staticClass:"grey lighten-3",staticStyle:{color:"black"}},[e._v("# "),a("div",{staticClass:"ml-2"},[e._v(e._s(t.title))]),e._v(" "),a("v-spacer"),e._v(" "),a("v-chip",{attrs:{outline:"",color:"black","text-color":"black"}},[e._v("\n    "+e._s(t.desc.department)+"\n  ")])],1),e._v(" "),a("v-divider"),e._v(" "),a("br"),e._v(" "),a("v-list-tile",[a("v-list-tile-avatar",[a("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("announcement")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-sub-title",[e._v("提案名稱")]),e._v(" "),a("v-list-tile-title",{domProps:{innerHTML:e._s(t.desc.title)}})],1)],1),e._v(" "),a("v-list-tile",[a("v-list-tile-avatar",[a("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("face")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-sub-title",[e._v("提案人")]),e._v(" "),a("v-list-tile-title",{domProps:{innerHTML:e._s(t.desc.person)}})],1)],1),e._v(" "),a("v-list-tile",[a("v-list-tile-avatar",[a("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("event")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-sub-title",[e._v("提案日期")]),e._v(" "),a("v-list-tile-title",{domProps:{innerHTML:e._s(t.desc.date)}})],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",{staticStyle:{"background-color":"white"}},[a("v-btn",{staticStyle:{"background-color":"#032e3d",color:"white"},attrs:{to:{name:"board",params:{id:t.id}}}},[a("v-icon",[e._v("arrow_right")]),e._v(" 進入議題")],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{icon:"",flat:"",color:"grey",to:{name:"editboard",params:{id:t.id}}}},[a("v-icon",[e._v("edit")])],1),e._v(" "),a("v-btn",{attrs:{icon:"",flat:"",color:"grey",to:{name:"index"},"active-class":""},nativeOn:{click:function(a){a.stopPropagation(),e.dialog=!0,e.selectedid=t.id}}},[a("v-icon",[e._v("delete")])],1)],1)],1)],1)})],2),e._v(" "),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("確定刪除?")]),e._v(" "),a("v-card-text"),e._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"blue",flat:"flat"},nativeOn:{click:function(t){e.dialog=!1,e.closeboard(e.selectedid)}}},[e._v("確定")]),e._v(" "),a("v-btn",{attrs:{color:"black",flat:"flat",to:{name:"index"},"active-class":""},nativeOn:{click:function(t){e.dialog=!1}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var _=a("VU/8")(x,b,!1,function(e){a("NtC6")},null,null).exports,h={data:function(){return{date:null,picker:!1,valid:!1,nameRules:[function(e){return!!e||"此欄位為必填!"},function(e){return e.length<=20||"此欄位不可超過20個字!"}],requiredRules:[function(e){return!!e||"此欄位為必填!"}],snackbar:!1,id:"",boardname:"",desc:{title:"",person:"",date:null,departmrnt:""}}},methods:{submit:function(){var e=this;void 0!=this.$route.params.id?Trello.put("boards/"+this.id,{name:this.boardname},function(t){Trello.put("boards/"+t.id,{desc:u()(e.desc)},function(){e.$router.push("/")})}):Trello.post("boards",{name:this.boardname,idOrganization:"5ad56d6d96cb269a7a2aaa0a",idBoardSource:"5ab49c39f2917ad1cff1a3de",prefs_permissionLevel:"org",keepFromSource:"none"},function(t){Trello.put("boards/"+t.id,{desc:u()(e.desc)},function(){this.snackbar=!0,e.$router.push("/")})})},resetForm:function(){this.$refs.form.reset()}},computed:{formIsValid:function(){return this.boardname&&this.desc.title&&this.desc.person&&this.desc.date&&this.desc.department}},created:function(){var e=this;void 0!=this.$route.params.id&&(this.id=this.$route.params.id,Trello.boards.get(this.id,function(t){e.boardname=t.name,""!=t.desc&&(e.desc=JSON.parse(t.desc))}))}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-card",[a("v-snackbar",{attrs:{absolute:"",top:"",right:"",color:"success"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[a("span",[e._v("新增成功!")]),e._v(" "),a("v-icon",{attrs:{dark:""}},[e._v("check_circle")])],1),e._v(" "),a("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.submit(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-text-field",{attrs:{label:"看版名稱","prepend-icon":"assignment",counter:20,rules:e.nameRules},model:{value:e.boardname,callback:function(t){e.boardname=t},expression:"boardname"}}),e._v(" "),a("v-text-field",{attrs:{label:"議題名稱","prepend-icon":"announcement",rules:e.requiredRules},model:{value:e.desc.title,callback:function(t){e.$set(e.desc,"title",t)},expression:"desc.title"}}),e._v(" "),a("v-text-field",{attrs:{label:"提案人","prepend-icon":"person",rules:e.requiredRules},model:{value:e.desc.person,callback:function(t){e.$set(e.desc,"person",t)},expression:"desc.person"}}),e._v(" "),a("v-menu",{ref:"date",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":e.date},on:{"update:returnValue":function(t){e.date=t}},model:{value:e.picker,callback:function(t){e.picker=t},expression:"picker"}},[a("v-text-field",{attrs:{slot:"activator",label:"提案日期","prepend-icon":"event",rules:e.requiredRules,readonly:""},slot:"activator",model:{value:e.desc.date,callback:function(t){e.$set(e.desc,"date",t)},expression:"desc.date"}}),e._v(" "),a("v-date-picker",{attrs:{locale:"zh-tw"},on:{input:function(t){e.$refs.date.save(e.date)}},model:{value:e.desc.date,callback:function(t){e.$set(e.desc,"date",t)},expression:"desc.date"}})],1),e._v(" "),a("v-text-field",{attrs:{label:"部會名稱","prepend-icon":"announcement",rules:e.requiredRules},model:{value:e.desc.department,callback:function(t){e.$set(e.desc,"department",t)},expression:"desc.department"}})],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"subheading",attrs:{disabled:!e.formIsValid,flat:"",color:"primary",type:"submit"}},[e._v("確認")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"subheading",attrs:{flat:""},on:{click:e.resetForm}},[e._v("清除")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var g=a("VU/8")(h,k,!1,function(e){a("sZ5E")},"data-v-2b16f5da",null).exports,w=a("BO1k"),y=a.n(w),$=a("DAYN"),R=a.n($),C=a("woOf"),S=a.n(C),T=a("u2KI"),V=a.n(T),z={props:["dialog","listname","listid"],data:function(){var e=V()({card:{title:"",desc:"",department:"",background:"",summary:"",induction:""}});return{snackbar:!1,valid:!1,titleRules:[function(e){return!!e||"此欄位為必填!"},function(e){return e.length<=20||"此欄位不可超過20個字!"}],select:[],items:["Programming","Design","Vue","Vuetify"],form:S()({},e)}},methods:{submit:function(){Trello.post("cards",{name:this.form.card.title,idList:this.form.card.list},function(){})},closeDialog:function(){}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"50em"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.submit(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",md6:""}},[a("v-card",{attrs:{color:"orange",dark:""}},[a("v-card-text")],1)],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-card",{attrs:{color:"white"}},[a("v-card-text")],1)],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-card",{attrs:{color:"white"}},[a("v-card-text")],1)],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-flex",{attrs:{"d-flex":"",md12:""}},["問題面向"==e.listname?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"問題面向","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.form.card.title,callback:function(t){e.$set(e.form.card,"title",t)},expression:"form.card.title"}})],1)],1):e._e(),e._v(" "),"問題細節"==e.listname?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"問題細節","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.form.card.title,callback:function(t){e.$set(e.form.card,"title",t)},expression:"form.card.title"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"補充說明","prepend-icon":"people"},model:{value:e.form.card.desc,callback:function(t){e.$set(e.form.card,"desc",t)},expression:"form.card.desc"}})],1)],1):e._e(),e._v(" "),"解法"==e.listname?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"解法","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.form.card.title,callback:function(t){e.$set(e.form.card,"title",t)},expression:"form.card.title"}})],1)],1):e._e(),e._v(" "),"回應"==e.listname?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"回應","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.form.card.title,callback:function(t){e.$set(e.form.card,"title",t)},expression:"form.card.title"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"補充說明","prepend-icon":"people"},model:{value:e.form.card.desc,callback:function(t){e.$set(e.form.card,"desc",t)},expression:"form.card.desc"}})],1)],1):e._e(),e._v(" "),"困雖"==e.listname?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"困雖","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.form.card.title,callback:function(t){e.$set(e.form.card,"title",t)},expression:"form.card.title"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"補充說明","prepend-icon":"people"},model:{value:e.form.card.desc,callback:function(t){e.$set(e.form.card,"desc",t)},expression:"form.card.desc"}})],1)],1):e._e(),e._v(" "),"利害關係人"==e.listname?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"利害關係人","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.form.card.title,callback:function(t){e.$set(e.form.card,"title",t)},expression:"form.card.title"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"單位","prepend-icon":"announcement"},model:{value:e.form.card.department,callback:function(t){e.$set(e.form.card,"department",t)},expression:"form.card.department"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"背景","prepend-icon":"announcement"},model:{value:e.form.card.background,callback:function(t){e.$set(e.form.card,"background",t)},expression:"form.card.background"}})],1)],1):e._e(),e._v(" "),"資料/文件/連結"==e.listname?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"資料/文件/連結","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.form.card.title,callback:function(t){e.$set(e.form.card,"title",t)},expression:"form.card.title"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"摘要","prepend-icon":"people"},model:{value:e.form.card.summary,callback:function(t){e.$set(e.form.card,"summary",t)},expression:"form.card.summary"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"歸納","prepend-icon":"people"},model:{value:e.form.card.induction,callback:function(t){e.$set(e.form.card,"induction",t)},expression:"form.card.induction"}})],1)],1):e._e(),e._v(" "),a("v-layout",{attrs:{row:"",wrap:""}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",md12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-select",{attrs:{items:e.items,label:"關聯利害關係人","prepend-icon":"people",chips:"",tags:""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1)],1)],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",md12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-select",{attrs:{items:e.items,label:"佐證文件","prepend-icon":"picture_as_pdf",chips:"",tags:""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1)],1)],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"subheading",attrs:{flat:"",color:"primary",type:"submit"}},[e._v("確認")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"subheading",attrs:{flat:""}},[e._v("清除")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"subheading",attrs:{flat:""},nativeOn:{click:function(t){return e.closeDialog(t)}}},[e._v("關閉")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var F=a("VU/8")(z,O,!1,function(e){a("eXdf")},null,null).exports,L={components:{draggable:R.a,newcard:F},data:function(){return{board:{},lists:[],cards:[],dialog:!1,selectedlist:{},snackbar:!1,valid:!1,titleRules:[function(e){return!!e||"此欄位為必填!"},function(e){return e.length<=20||"此欄位不可超過20個字!"}],card:{id:"",title:"",desc:{explain:"",department:"",background:"",summary:"",induction:"",people:[],data:[]}},peoplelist:[],datalist:[],fab:!1,editable:!1,search:""}},methods:{getcards:function(e){var t=[],a=!0,r=!1,l=void 0;try{for(var s,n=y()(this.cards);!(a=(s=n.next()).done);a=!0){var i=s.value;i.idList==e&&t.push(i)}}catch(e){r=!0,l=e}finally{try{!a&&n.return&&n.return()}finally{if(r)throw l}}return t},movecard:function(e){Trello.put("cards/"+e.item.id,{idList:e.to.id},function(e){})},closeDialog:function(){this.dialog=!1},resetForm:function(){this.card.desc.people=[],this.card.desc.data=[],this.card.title=""},submit:function(){0==this.editable?Trello.post("cards",{name:this.card.title,idList:this.selectedlist.id,desc:u()(this.card.desc)},function(){window.location.reload(!0)}):Trello.put("cards/"+this.card.id,{name:this.card.title,idList:this.selectedlist.id,desc:u()(this.card.desc)},function(){window.location.reload(!0)})},getpeople:function(){var e=this;this.lists.map(function(t){"利害關係人"==t.name&&t.cards.map(function(t){e.peoplelist.push(t)})})},getdata:function(){var e=this;this.lists.map(function(t){"資料/文件/連結"==t.name&&t.cards.map(function(t){e.datalist.push(t)})})},newcard:function(e){this.dialog=!0,this.selectedlist.name=e.name,this.selectedlist.id=e.id,this.selectedlist.color=e.color,this.editable=!1,this.resetForm()},editcard:function(e,t){this.dialog=!0,this.selectedlist.name=t.name,this.selectedlist.id=t.id,this.selectedlist.color=t.color,this.card.id=e.id,this.card.title=e.name,this.card.desc.people=e.desc.people,this.card.desc.data=e.desc.data,this.editable=!0},searchcards:function(e){var t=this;return e.cards.filter(function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())})}},created:function(){var e=this;this.board.id=this.$route.params.id,Trello.boards.get(this.board.id,function(t){e.board.name=t.name,""!=t.desc&&(e.board.desc=JSON.parse(t.desc))}),Trello.boards.get(this.board.id+"/lists",{cards:"open"},function(t){t.map(function(t){var a={};switch(a.id=t.id,a.name=t.name,a.cards=t.cards,a.name){case"資料/文件/連結":a.color="blue lighten-4";break;case"問題面向":a.color="yellow darken-1";break;case"問題細節":a.color="yellow lighten-4";break;case"解法":a.color="light-green accent-2";break;case"回應":a.color="amber accent-4";break;case"困難":a.color="pink lighten-2";break;case"利害關係人":a.color="cyan accent-4";break;default:a.color="teal"}a.cards.map(function(e){if(""!=e.desc){var t=JSON.parse(e.desc);e.desc=t}}),e.lists.push(a)}),e.getpeople(),e.getdata()})}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-card",{staticClass:"mt-2 white--text",staticStyle:{"background-color":"#032E3D"},attrs:{flat:""}},[a("v-card-text",{attrs:{color:"indigo darken-4"}},[a("div",{staticClass:"headline"},[e._v("# "+e._s(e.board.name)+" ")])])],1)],1),e._v(" "),a("v-flex",{attrs:{xs3:"","offset-xs6":""}},[a("v-text-field",{staticClass:"mt-3 mb-0",attrs:{color:"grey darken-4","prepend-icon":"search",label:"搜尋卡片關鍵字",value:"Input text"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},e._l(e.lists,function(t){return a("v-flex",{key:t.id,attrs:{xs12:"",md4:"",lg3:""}},[a("v-toolbar",{attrs:{dense:"",dark:"",flat:"","text-ms-center":"",color:"grey darken-3"}},[a("v-toolbar-title",{staticClass:"subheading"},[e._v(e._s(t.name))])],1),e._v(" "),a("v-card",[a("v-container",{attrs:{fluid:"","grid-list-lg":"","align-center":"",wrap:""}},[a("draggable",{staticStyle:{"min-height":"1em"},attrs:{"ml-0":"",id:t.id,options:{group:"cards",animation:200}},on:{add:e.movecard}},e._l(e.searchcards(t),function(r){return a("v-card",{key:r.id,staticClass:"mb-2",staticStyle:{margin:"0",width:"100%"},attrs:{color:t.color,hover:"",id:r.id},on:{mouseup:function(a){e.editcard(r,t)}}},[a("v-tooltip",{attrs:{right:""}},[a("v-card-title",{attrs:{slot:"activator","primary-title":""},slot:"activator"},[a("div",{staticClass:"body-2"},[e._v(e._s(r.name))])]),e._v(" "),e._l(r.desc,function(t){return a("div",["object"!=typeof t&&""!=t?a("div",[a("span",{staticClass:"body-2"},[e._v(e._s(t))])]):e._e()])})],2)],1)}))],1),e._v(" "),a("v-footer",[a("v-btn",{staticStyle:{margin:"0",width:"100%"},attrs:{"text-md-left":"",color:"grey lighten-3"},nativeOn:{click:function(a){a.stopPropagation(),e.newcard(t)}}},[a("v-icon",{attrs:{small:""}},[e._v("add")]),e._v("新增卡片"),a("v-spacer")],1)],1)],1)],1)})),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"50em"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.submit(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",md6:""}},[a("v-card",{attrs:{color:e.selectedlist.color}},[a("v-card-title",{attrs:{"primary-title":""}},[e._v("\n              "+e._s(e.card.title)+"\n            ")])],1)],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("div",e._l(e.card.desc.people,function(t){return a("v-chip",{key:t.id,attrs:{small:"",color:"pink lighten-1","text-color":"white"}},[e._v("\n                "+e._s(t.name)+"\n              ")])}))]),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("div",e._l(e.card.desc.data,function(t){return a("v-chip",{key:t.id,attrs:{small:"",color:"pink lighten-1","text-color":"white"}},[e._v("\n                "+e._s(t.name)+"\n              ")])}))])],1)],1),e._v(" "),a("v-flex",{staticClass:"mt-3",attrs:{"d-flex":"",md12:""}},["問題面向"==e.selectedlist.name?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"問題面向","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.card.title,callback:function(t){e.$set(e.card,"title",t)},expression:"card.title"}})],1)],1):e._e(),e._v(" "),"問題細節"==e.selectedlist.name?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"問題細節","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.card.title,callback:function(t){e.$set(e.card,"title",t)},expression:"card.title"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"補充說明","prepend-icon":"people"},model:{value:e.card.desc.explain,callback:function(t){e.$set(e.card.desc,"explain",t)},expression:"card.desc.explain"}})],1)],1):e._e(),e._v(" "),"解法"==e.selectedlist.name?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"解法","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.card.title,callback:function(t){e.$set(e.card,"title",t)},expression:"card.title"}})],1)],1):e._e(),e._v(" "),"回應"==e.selectedlist.name?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"回應","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.card.title,callback:function(t){e.$set(e.card,"title",t)},expression:"card.title"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"補充說明","prepend-icon":"people"},model:{value:e.card.desc.explain,callback:function(t){e.$set(e.card.desc,"explain",t)},expression:"card.desc.explain"}})],1)],1):e._e(),e._v(" "),"困難"==e.selectedlist.name?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"困難","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.card.title,callback:function(t){e.$set(e.card,"title",t)},expression:"card.title"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"補充說明","prepend-icon":"people"},model:{value:e.card.desc.explain,callback:function(t){e.$set(e.card.desc,"explain",t)},expression:"card.desc.explain"}})],1)],1):e._e(),e._v(" "),"利害關係人"==e.selectedlist.name?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"利害關係人","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.card.title,callback:function(t){e.$set(e.card,"title",t)},expression:"card.title"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"單位","prepend-icon":"announcement"},model:{value:e.card.desc.department,callback:function(t){e.$set(e.card.desc,"department",t)},expression:"card.desc.department"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"背景","prepend-icon":"announcement"},model:{value:e.card.desc.background,callback:function(t){e.$set(e.card.desc,"background",t)},expression:"card.desc.background"}})],1)],1):e._e(),e._v(" "),"資料/文件/連結"==e.selectedlist.name?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"資料/文件/連結","prepend-icon":"announcement",counter:20,rules:e.titleRules},model:{value:e.card.title,callback:function(t){e.$set(e.card,"title",t)},expression:"card.title"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"摘要","prepend-icon":"people"},model:{value:e.card.desc.summary,callback:function(t){e.$set(e.card.desc,"summary",t)},expression:"card.desc.summary"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"歸納","prepend-icon":"people"},model:{value:e.card.desc.induction,callback:function(t){e.$set(e.card.desc,"induction",t)},expression:"card.desc.induction"}})],1)],1):e._e()],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",md12:""}},["資料/文件/連結"!=e.selectedlist.name&&"利害關係人"!=e.selectedlist.name?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-select",{attrs:{items:e.peoplelist,"item-text":"name",label:"關聯利害關係人","prepend-icon":"people",chips:"",tags:"",multiple:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{key:JSON.stringify(t.item),staticClass:"chip--select-multi",attrs:{selected:t.selected,disabled:t.disabled},on:{input:function(e){t.parent.selectItem(t.item)}}},[e._v("\n            "+e._s(t.item.name)+"\n          ")])]}}]),model:{value:e.card.desc.people,callback:function(t){e.$set(e.card.desc,"people",t)},expression:"card.desc.people"}})],1)],1):e._e()],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",md12:""}},["資料/文件/連結"!=e.selectedlist.name&&"利害關係人"!=e.selectedlist.name?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-select",{attrs:{items:e.datalist,label:"佐證文件","prepend-icon":"picture_as_pdf",chips:"",tags:"","item-text":"name",multiple:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{key:JSON.stringify(t.item),staticClass:"chip--select-multi",attrs:{selected:t.selected,disabled:t.disabled},on:{input:function(e){t.parent.selectItem(t.item)}}},[e._v("\n            "+e._s(t.item.name)+"\n          ")])]}}]),model:{value:e.card.desc.data,callback:function(t){e.$set(e.card.desc,"data",t)},expression:"card.desc.data"}})],1)],1):e._e()],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"subheading",attrs:{flat:"",color:"primary",type:"submit"}},[e._v("確認")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"subheading",attrs:{flat:""},on:{click:e.resetForm}},[e._v("清除")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"subheading",attrs:{flat:""},nativeOn:{click:function(t){return e.closeDialog(t)}}},[e._v("關閉")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var E=a("VU/8")(L,D,!1,function(e){a("f8mr")},null,null).exports,P={data:function(){return{id:"",boardname:"",desc:{title:"",person:"",date:null},date:null,picker:!1}},methods:{submit:function(){var e=this;Trello.put("boards/"+this.id,{name:this.boardname},function(t){Trello.put("boards/"+t.id,{desc:u()(e.desc)},function(){e.$router.push("/")})})}},created:function(){var e=this;this.id=this.$route.params.id,Trello.boards.get(this.id,function(t){e.boardname=t.name,""!=t.desc&&(e.desc=JSON.parse(t.desc))})}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-card",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"看版名稱","prepend-icon":"assignment"},model:{value:e.boardname,callback:function(t){e.boardname=t},expression:"boardname"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"議題名稱","prepend-icon":"announcement"},model:{value:e.desc.title,callback:function(t){e.$set(e.desc,"title",t)},expression:"desc.title"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"提案人","prepend-icon":"person"},model:{value:e.desc.person,callback:function(t){e.$set(e.desc,"person",t)},expression:"desc.person"}}),e._v(" "),a("v-menu",{ref:"date",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":e.date},on:{"update:returnValue":function(t){e.date=t}},model:{value:e.picker,callback:function(t){e.picker=t},expression:"picker"}},[a("v-text-field",{attrs:{slot:"activator",label:"提案日期","prepend-icon":"event"},slot:"activator",model:{value:e.desc.date,callback:function(t){e.$set(e.desc,"date",t)},expression:"desc.date"}}),e._v(" "),a("v-date-picker",{attrs:{locale:"zh-tw"},on:{input:function(t){e.$refs.date.save(e.date)}},model:{value:e.desc.date,callback:function(t){e.$set(e.desc,"date",t)},expression:"desc.date"}})],1)],1)],1)],1),e._v(" "),a("v-divider",{staticClass:"mt-5"}),e._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:e.submit}},[e._v("修改")])],1)],1)],1)],1)},staticRenderFns:[]};a("VU/8")(P,j,!1,function(e){a("IKP7")},"data-v-b2defe42",null).exports;var N={data:function(){var e=V()({card:{title:"",desc:{title:"",person:"",date:null}}});return{snackbar:!1,valid:!1,titleRules:[function(e){return!!e||"此欄位為必填!"},function(e){return e.length<=20||"此欄位不可超過20個字!"}],form:S()({},e)}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-card",[a("v-snackbar",{attrs:{absolute:"",top:"",right:"",color:"success"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[a("span",[e._v("新增成功!")]),e._v(" "),a("v-icon",{attrs:{dark:""}},[e._v("check_circle")])],1),e._v(" "),a("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.submit(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",md4:""}},[a("v-card",{attrs:{color:"orange",dark:""}},[a("v-card-text",[e._v("\n                   fefefefefef\n                 ")])],1)],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",md3:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-card",{attrs:{color:"blue"}},[a("v-card-text",[e._v("\n                   fefefefefef\n                 ")])],1)],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-card",{attrs:{color:"blue"}},[a("v-card-text",[e._v("\n                   fefefefefef\n                 ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var J=a("VU/8")(N,I,!1,function(e){a("whkQ")},null,null).exports;r.a.use(d.a);var U=new d.a({routes:[{path:"/",name:"index",component:_},{path:"/newboard",name:"newboard",component:g},{path:"/board/:id",name:"board",component:E},{path:"/editboard/:id",name:"editboard",component:g},{path:"/newcard",name:"newcard",component:F},{path:"/HelloWorld",name:"HelloWorld",component:m},{path:"/test",name:"test",component:J}]}),H=a("3EgV"),q=a.n(H);a("7zck");r.a.use(q.a),r.a.config.productionTip=!1,new r.a({el:"#app",router:U,components:{App:o},template:"<App/>"})},NtC6:function(e,t){},eXdf:function(e,t){},f8mr:function(e,t){},fJh9:function(e,t){},"ik/M":function(e,t){},sZ5E:function(e,t){},whkQ:function(e,t){},zPXi:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.bb52fa0603a84ca907c8.js.map